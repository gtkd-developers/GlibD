# This file is part of gtkD.
#
# gtkD is free software; you can redistribute it and/or modify
# it under the terms of the GNU Lesser General Public License as published by
# the Free Software Foundation; either version 2.1 of the License, or
# (at your option) any later version.
#
# gtkD is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public License
# along with gtkD; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
#

#############################################
### Definitions for wrapping Gtk+ ###########
#############################################

# must start with wrap
wrap: gio_unix

version !Windows: start
    version 2.86: start
        file: GioUnix-2.0.gir

        struct: MountEntry
        class: MountEntry

        struct: DesktopAppInfo
        noCode: new_from_filename
        code: start
            /**
            * Creates a new #GDesktopAppInfo.
            *
            * Params:
            *     filename = the path of a desktop file, in the GLib filename encoding
            *
            * Return: a new #GDesktopAppInfo or %NULL on error.
            *
            * Throws: ConstructionException GTK+ fails to create the object.
            */
            public static DesktopAppInfo createFromFilename(string filename)
            {
                auto p = g_desktop_app_info_new_from_filename(Str.toStringz(filename));

                if(p is null)
                {
                    throw new ConstructionException("null returned by g_desktop_app_info_new_from_filename");
                }

                return new DesktopAppInfo(p, true);
            }
        code: end
    version: end
version: end
